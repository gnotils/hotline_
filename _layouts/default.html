---
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>{{ page.title }} | The Liminal Archive</title>
    <style>
        /* --- 1. ë³€ìˆ˜ ë° ì‹œìŠ¤í…œ ì»¬ëŸ¬ --- */
        :root {
            --win-bg: #008080;
            --win-silver: #c0c0c0;
            --win-dark: #808080;
            --win-light: #ffffff;
            --scp-red: #901;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--win-bg);
            font-family: "Fixedsys", "Nanum Gothic Coding", monospace;
            height: 100vh;
            display: flex; flex-direction: column;
            overflow: hidden; /* ì „ì²´ ìŠ¤í¬ë¡¤ ë°©ì§€, ì°½ ë‚´ë¶€ì—ì„œ ìŠ¤í¬ë¡¤ */
        }

        /* --- 2. ì´ˆí˜„ì‹¤ íš¨ê³¼ (TV ë…¸ì´ì¦ˆ) --- */
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://replicate.delivery/pbxt/J6TzJzG3T6f3ZkX6V5f5JzG3T6f3ZkX6V5f5/noise.png');
            opacity: 0.08; z-index: 10000; pointer-events: none;
            animation: noise-move 0.2s infinite;
        }
        @keyframes noise-move {
            0% { transform: translate(0,0); }
            50% { transform: translate(-1%, 1%); }
        }
        .crt-lines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 3px; z-index: 10001; pointer-events: none;
        }

        /* --- 3. ë©”ì¸ ìœˆë„ìš° í”„ë ˆì„ --- */
        .window-frame {
            width: 95%; max-width: 1100px;
            margin: 20px auto;
            background: var(--win-silver);
            border: 2px solid;
            border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
            display: flex; flex-direction: column;
            box-shadow: 10px 10px 0px rgba(0,0,0,0.3);
            flex: 1; margin-bottom: 50px; /* íƒœìŠ¤í¬ë°” ê³µê°„ í™•ë³´ */
        }

        .title-bar {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: white; padding: 3px 10px;
            display: flex; justify-content: space-between; align-items: center;
            font-weight: bold; font-size: 14px;
        }

        .title-bar-controls button {
            width: 16px; height: 14px; font-size: 9px; padding: 0;
            background: var(--win-silver); border: 1px solid;
            border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
        }

        /* --- 4. ë‚´ë¶€ ë ˆì´ì•„ì›ƒ --- */
        .wrapper {
            display: flex; flex: 1; padding: 5px; gap: 5px; overflow: hidden;
        }

        nav.side-bar {
            width: 220px; background: white;
            border: 2px inset var(--win-silver);
            padding: 10px; font-size: 13px;
            overflow-y: auto;
        }
        nav.side-bar h3 { background: #eee; margin: 0 -10px 10px -10px; padding: 5px 10px; font-size: 12px; border-bottom: 1px solid #ccc; }
        nav.side-bar ul { list-style: none; padding-left: 15px; margin: 0; }
        nav.side-bar li::before { content: "ğŸ“ "; }
        nav.side-bar a { color: black; text-decoration: none; }
        nav.side-bar a:hover { background: #000080; color: white; }

        main.content {
            flex: 1; background: white;
            border: 2px inset var(--win-silver);
            padding: 30px; overflow-y: auto;
        }
        h1 { color: var(--scp-red); font-size: 24px; border-bottom: 2px double #ccc; }

        /* --- 5. íƒœìŠ¤í¬ë°” ë° ì‹œì‘ ë©”ë‰´ --- */
        .taskbar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            height: 32px; background: var(--win-silver);
            border-top: 2px solid var(--win-light);
            display: flex; align-items: center; padding: 2px;
            z-index: 9000;
        }

        .start-btn {
            display: flex; align-items: center; gap: 5px;
            padding: 2px 8px; font-weight: bold; font-size: 13px;
            border: 2px solid; border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
            cursor: pointer;
        }
        .start-btn:active, .start-btn.active {
            border-color: var(--win-dark) var(--win-light) var(--win-light) var(--win-dark);
        }

        #start-menu {
            display: none; position: fixed; bottom: 32px; left: 2px;
            width: 200px; background: var(--win-silver);
            border: 2px solid; border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
            z-index: 9001; box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        }

        .start-menu-sidebar {
            background: linear-gradient(to top, #000080, #1084d0);
            width: 25px; padding: 5px; color: white;
            writing-mode: vertical-rl; transform: rotate(180deg);
            font-weight: bold; text-align: center; font-size: 14px;
        }

        .menu-item { padding: 5px 10px; display: flex; align-items: center; }
        .menu-item a { text-decoration: none; color: black; display: flex; align-items: center; gap: 10px; width: 100%; font-size: 12px; }
        .menu-item:hover { background-color: #000080; }
        .menu-item:hover a { color: white; }

        /* --- 6. ì—ëŸ¬ íŒì—… --- */
        #error-popup {
            display: none; position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%); width: 300px;
            z-index: 11000; background: var(--win-silver);
            border: 2px solid; border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
        }
    </style>
</head>
<body>
    <div class="noise-overlay"></div>
    <div class="crt-lines"></div>

    <div class="window-frame">
        <div class="title-bar">
            <span>C:\WINDOWS\SYSTEM32\LIMINAL_ARCHIVE.EXE</span>
            <div class="title-bar-controls">
                <button onclick="showError()">_</button> <button onclick="showError()">â–¡</button> <button onclick="showError()">X</button>
            </div>
        </div>
        
        <div class="wrapper">
            <nav class="side-bar">
                <h3>My Computer</h3>
                <ul>
                    <li><a href="{{ '/' | relative_url }}">C:/Home</a></li>
                    <li><a href="#" class="not-ready">C:/Archives</a></li>
                    <li><a href="/hotline_/records" class="not-ready">C:/Records</a></li>
                </ul>
                <h3>Network</h3>
                <ul>
                    <li><a href="https://scpko.wikidot.com" target="_blank">External_Wiki</a></li>
                </ul>
            </nav>

            <main class="content">
                <h1>{{ page.title }}</h1>
                {{ content }}
            </main>
        </div>
    </div>

    <div class="taskbar">
        <div class="start-btn" onclick="toggleStartMenu(event)">
            <img src="https://win98icons.alexmeub.com/icons/png/windows-0.png" width="16">
            Start
        </div>
    </div>

    <div id="start-menu">
        <div style="display: flex;">
            <div class="start-menu-sidebar">Liminal 95</div>
            <ul style="list-style: none; margin: 0; padding: 2px; flex: 1;">
                <li class="menu-item"><a href="{{ '/' | relative_url }}"><img src="https://win98icons.alexmeub.com/icons/png/chm-2.png" width="16"> Home</a></li>
                <li class="menu-item not-ready"><a href="#"><img src="https://win98icons.alexmeub.com/icons/png/directory_open_file_ed-4.png" width="16"> Archive</a></li>
                <hr>
                <li class="menu-item not-ready"><a href="#"><img src="https://win98icons.alexmeub.com/icons/png/shut_down_normal-0.png" width="16"> Shut Down...</a></li>
            </ul>
        </div>
    </div>

    <div id="error-popup">
        <div class="title-bar"><span>System Error</span><div class="title-bar-controls"><button onclick="closeError()">X</button></div></div>
        <div style="padding: 20px; display: flex; align-items: center; gap: 15px;">
            <img src="https://win98icons.alexmeub.com/icons/png/msg_error-0.png" width="32">
            <p id="error-message" style="margin: 0; font-size: 12px; color: black; font-weight: bold;">ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div style="text-align: center; padding-bottom: 10px;">
            <button onclick="closeError()" style="padding: 2px 20px; border: 2px solid; border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light); cursor: pointer;">í™•ì¸</button>
        </div>
    </div>

    <audio id="error-sound" src="https://www.soundjay.com/buttons/beep-01a.mp3"></audio>

    <script>
        // ì‹œì‘ ë©”ë‰´ ì œì–´
        function toggleStartMenu(e) {
            e.stopPropagation();
            const menu = document.getElementById('start-menu');
            const btn = document.querySelector('.start-btn');
            if (menu.style.display === 'none' || menu.style.display === '') {
                menu.style.display = 'block';
                btn.classList.add('active');
            } else {
                menu.style.display = 'none';
                btn.classList.remove('active');
            }
        }

        // ì—ëŸ¬ íŒì—… ì œì–´
        function showError(msg) {
            const popup = document.getElementById('error-popup');
            const message = document.getElementById('error-message');
            const sound = document.getElementById('error-sound');
            if(msg) message.innerText = msg;
            popup.style.display = 'block';
            sound.play().catch(() => {});
        }

        function closeError() {
            document.getElementById('error-popup').style.display = 'none';
        }

        // ì „ì—­ í´ë¦­ ì´ë²¤íŠ¸ (ë©”ë‰´ ë‹«ê¸°)
        window.onclick = function(e) {
            const menu = document.getElementById('start-menu');
            const btn = document.querySelector('.start-btn');
            if (!btn.contains(e.target) && !menu.contains(e.target)) {
                menu.style.display = 'none';
                btn.classList.remove('active');
            }
        }

        // 'not-ready' í´ë˜ìŠ¤ ë§í¬ í´ë¦­ ì‹œ ì—ëŸ¬ ë„ìš°ê¸°
        document.querySelectorAll('.not-ready').forEach(link => {
            link.onclick = function(e) {
                e.preventDefault();
                showError("ë°ì´í„°ê°€ ì†ìƒë˜ì—ˆê±°ë‚˜ ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.");
            };
        });
    </script>
</body>
</html>
